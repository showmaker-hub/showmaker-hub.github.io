function decrypt(t,e){return CryptoJS.AES.decrypt(t,e).toString(CryptoJS.enc.Utf8)}function decryptAll(){const d=document.getElementById("decrypt-password").value;if(d){const t=document.querySelectorAll(".photo-list-item"),e=decrypt(t[0].dataset.src,d);e.startsWith("http")||e.startsWith("/")?(decryptContainer.style.display="none",lightgallery.style.display="flex",t.forEach(t=>{var e=decrypt(t.dataset.src,d);t.dataset.src=e;const r=t.querySelector(".photo-list-cover");var c=decrypt(r.alt,d),n=decrypt(r.title,d);t.dataset.subHtml=`<h4>${c}</h4><p>${n}</p>`,r.src=e,r.alt=c,r.title=n,t.querySelector("figcaption").innerText=c})):(alert("Decrypt Error!"),window.location.reload())}}function initGalleryDecrypt(){decryptButton&&(decryptButton.onclick=decryptAll,document.getElementById("decrypt-password").addEventListener("keydown",t=>{"Enter"===t.key&&decryptAll()}))}document.addEventListener("DOMContentLoaded",initGalleryDecrypt),document.addEventListener("pjax:success",initGalleryDecrypt);